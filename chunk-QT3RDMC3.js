import{a as C}from"./chunk-5GEGBKO5.js";import{a as _}from"./chunk-HC6ADQJT.js";import{a as F,b as u,c as w,d as x,e as y,g as M,h as P,i as I,j as N,k as E}from"./chunk-E7P3DWKB.js";import{d as S}from"./chunk-ZR6YA4GW.js";import{Da as f,Fb as b,Gb as h,Ha as g,Xa as s,Ya as o,Za as e,_a as c,db as v,hb as t,sa as a,xa as d}from"./chunk-HDYZMK6E.js";function O(r,n){r&1&&(o(0,"div",9),t(1," Valid email is required "),e())}function k(r,n){r&1&&(o(0,"div",9),t(1," Password is required "),e())}var L=class r{constructor(n,l,i,m){this.fb=n;this.router=l;this.userService=i;this.authService=m;this.loginForm=this.fb.group({email:["",[u.required,u.email]],password:["",u.required]})}loginForm;onSubmit(){this.loginForm.valid?this.userService.logIn({email:this.loginForm.value.email,password:this.loginForm.value.password}).subscribe({next:n=>{this.authService.setToken(n.token),this.router.navigate(["/"])}}):this.loginForm.markAllAsTouched()}static \u0275fac=function(l){return new(l||r)(d(N),d(S),d(_),d(C))};static \u0275cmp=f({type:r,selectors:[["login"]],decls:16,vars:4,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["id","email","type","email","formControlName","email","required",""],["class","error",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password","required",""],["type","submit",3,"disabled"],[1,"error"]],template:function(l,i){if(l&1&&(o(0,"div",0)(1,"form",1),v("ngSubmit",function(){return i.onSubmit()}),o(2,"h2"),t(3,"Login"),e(),o(4,"div",2)(5,"label",3),t(6,"Email"),e(),c(7,"input",4),g(8,O,2,0,"div",5),e(),o(9,"div",2)(10,"label",6),t(11,"Password"),e(),c(12,"input",7),g(13,k,2,0,"div",5),e(),o(14,"button",8),t(15,"Login"),e()()()),l&2){let m,p;a(),s("formGroup",i.loginForm),a(7),s("ngIf",((m=i.loginForm.get("email"))==null?null:m.invalid)&&((m=i.loginForm.get("email"))==null?null:m.touched)),a(5),s("ngIf",((p=i.loginForm.get("password"))==null?null:p.invalid)&&((p=i.loginForm.get("password"))==null?null:p.touched)),a(),s("disabled",i.loginForm.invalid)}},dependencies:[h,b,E,y,F,w,x,I,M,P],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px;margin:5rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 2px 16px #00000012}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500}input[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid #e0e0e0;border-radius:4px;font-size:1rem}.error[_ngcontent-%COMP%]{color:#d32f2f;font-size:.85rem;margin-top:.25rem}button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#1976d2;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:disabled{background:#b0b0b0;cursor:not-allowed}"]})};export{L as LoginComponent};
